# Object and Classes

---

## Introduction to Object-Oriented Programming

### Classes

- `Class` l√† template ƒë·ªÉ `Object` d·ª±a v√†o ƒë√≥ v√† ƒë∆∞·ª£c t·∫°o ra.
- T·∫°o m·ªôt `Object` t·ª´ m·ªôt `Class` th√¨ `Object` ƒë√≥ l√† m·ªôt *instance* (phi√™n b·∫£n/tr∆∞·ªùng h·ª£p) c·ªßa `Class`.
- **Encapsulation** - T√≠nh bao ƒë√≥ng:
    - K·∫øt h·ª£p d·ªØ li·ªáu v√† h√†nh vi c·ªßa n√≥ v√†o trong m·ªôt b·ªô, gi·∫•u chi ti·∫øt c√°ch ho·∫°t ƒë·ªông kh·ªèi ng∆∞·ªùi d√πng.
    - D·ªØ li·ªáu l√† m·ªôt instance c·ªßa m·ªôt field v√† m·ªói h√†nh vi ƒë∆∞·ª£c xem nh∆∞ m·ªôt method.
    - M·ªói `Object` c·ª• th·ªÉ c√≥ c√°c gi√° tr·ªã c·ª• th·ªÉ cho m·ªôt field c·ªßa n√≥ ƒë·∫°i di·ªán cho m·ªôt tr·∫°ng th√°i c·ªßa `Class` ƒë√≥.
    - Ch∆∞∆°ng tr√¨nh ch·ªâ t∆∞∆°ng t√°c v·ªõi `Object` th√¥ng qua c√°c method c·ªßa n√≥.
- Trong `Java`, khi t·∫°o ra m·ªôt `Object` m·ªõi t·ª´ m·ªôt `Object` ƒë√£ c√≥ s·∫µn th√¨ `Object` m·ªõi s·∫Ω c√≥ nh·ªØng field v√† method c·ªßa `Object` g·ªëc.

### Objects

- Ba ƒë·∫∑c t√≠nh ch·ªß ch·ªët c·ªßa `Object`:
    1. **H√†nh vi c·ªßa `Object`** - "ƒê·ªëi t∆∞·ª£ng ƒë√≥ s·∫Ω l√†m g√¨?".
    2. **Tr·∫°ng th√°i c·ªßa `Object`** - Th√¥ng tin c·ªßa `Object` m√¥ t·∫£ h√¨nh d√°ng c·ªßa `Object`. C√°ch `Object` ho·∫°t ƒë·ªông khi g·ªçi c√°c method c·ªßa n√≥.
    3. **Danh t√≠nh c·ªßa `Object`** - C√°ch c√°c `Object` c√≥  th·ªÉ ph√¢n bi·ªát v·ªõi nhau n·∫øu nh·ªØng `Object` c√≥ c√πng h√†nh vi v√† tr·∫°ng th√°i.

### ƒê·ªãnh nghƒ©a c√°c Class

- ƒê·ªãnh danh c·ªßa c√°c `Class` n√™n l√† c√°c **danh t·ª´** ƒë·∫°i di·ªán cho √Ω nghƒ©a c·ªßa `Cless` ƒë√≥.
- ƒê·ªãnh danh c·ªßa c√°c `method` c·ªßa `Class` n√™n l√† c√°c **ƒë·ªông t·ª´** ch·ªâ ho·∫°t ƒë·ªông c·ªßa ph∆∞∆°ng th·ª©c ƒë√≥.

### Quan h·ªá gi·ªØa c√°c Class

C√°c quan h·ªá th√¥ng d·ª•ng nh·∫•t gi·ªØa c√°c `Class`:

- Dependence - Quan h·ªá ph·ª• thu·ªôc.
- Aggregation - Quan h·ªá thu n·∫°p (*ho·∫∑c quan h·ªá k·∫øt h·ª£p*).
- Inheritance - Quan h·ªá k·∫ø th·ª´a.

#### Dependence - Quan h·ªá ph·ª• thu·ªôc

- Trong k·ªπ ngh·ªá ph·∫ßn m·ªÅm (software engineering) th√¨ s·ª± ph·ª• thu·ªôc (dependence) hay s·ª± li√™n k·∫øt (coupling) gi·ªØa hai l·ªõp kh√°c nhau l√† khi ph∆∞∆°ng th·ª©c c·ªßa l·ªõp n√†y s·ª≠ d·ª•ng ho·∫∑c thao t√°c l·ªõp kh√°c.

> ‚û£ *English:* Dependence or coupling in software engineering: a class depends on 
another class if its methods use or manipulate objects of that class.

***V√≠ d·ª•:***

L·ªõp `Order` s·∫Ω s·ª≠ d·ª•ng l·ªõp `Account` ƒë·ªÉ ki·ªÉm tra tr·∫°ng th√°i thanh to√°n c·ªßa t√†i kho·∫£n ƒë√≥.

#### Aggregation - Quan h·ªá thu n·∫°p

- Khi ƒë·ªëi t∆∞·ª£ng $A$ c·ªßa l·ªõp n√†y **ch·ª©a** ƒë·ªëi t∆∞·ª£ng $B$ c·ªßa l·ªõp kh√°c th√¨ hai l·ªõp ƒë√≥ ƒë∆∞·ª£c g·ªçi l√† c√≥ quan h·ªá thu n·∫°p.

#### Inheritance - Quan h·ªá k·∫ø th·ª´a

> üí° *M·ªôt l·ªõp t·ªïng qu√°t v√† m·ªôt l·ªõp c·ª• th·ªÉ.*

- N·∫øu l·ªõp $A$ l√† m·ªôt l·ªõp m·ªü r·ªông (extend) t·ª´ l·ªõp $B$ th√¨ l·ªõp $A$ s·∫Ω c√≥ t·∫•t c·∫£ nh·ªØng g√¨ m√† l·ªõp $B$ c√≥ (bao g·ªìm t·∫•t c·∫£ c√°c field v√† method) v√† th√™m nh·ªØng kh·∫£ nƒÉng m·ªõi.

***V√≠ d·ª•:***

- L·ªõp `Order` l√† l·ªõp c√°c lo·∫°i ƒë∆°n ƒë·∫∑t h√†ng.
- L·ªõp `RushOrder` l√† m·ªôt l·ªõp ch·ªâ c√°c ƒë∆°n ƒë·∫∑t h√†ng nhanh.
- L·ªõp `RughOrder` l√† m·ªôt l·ªõp ƒë∆∞·ª£c m·ªü r·ªông t·ª´ l·ªõp `Order`: v√¨ c·∫£ hai ƒë·ªÅu c√≥ ƒëi·ªÉm chung l√† ƒë∆°n ƒë·∫∑t h√†ng. Sonh l·ªõp `RushOrder` c√≥ th√™m nh·ªØng field v√† method m·ªõi ƒë·∫∑c tr∆∞ng cho c√°c lo·∫°i ƒë∆°n ƒë·∫∑t h√†ng nhanh.

---

## Objects and Object variables

- Khai b√°o m·ªôt Object variable:

```java
Date birthday; // Kh√¥ng √°m ch·ªâ ƒë·∫øn m·ªôt ƒë·ªëi t∆∞·ª£ng n√†o c·ª• th·ªÉ.
```

- Kh·ªüi t·∫°o m·ªôt Object s·ª≠ d·ª•ng c√°c Constructor:

```java
Date birthday = new Date();
```

- Constructors s·∫Ω c√≥ t√™n tr√πng v·ªõi ƒë·ªëi t∆∞·ª£ng c·ªßa Constructors t∆∞∆°ng ·ª©ng.

![Object constructors](./img/object-constructors.png)

- M·ªôt h√†m `toString()` trong ƒë·ªëi t∆∞·ª£ng `Date` c√≥ ch·ª©c nƒÉng tr·∫£ v·ªÅ m·ªôt chu·ªói ƒë·∫°i di·ªán cho ƒë·ªëi t∆∞·ª£ng ƒë√≥ l√† m·ªôt ng√†y theo ƒë·ªãnh d·∫°ng ng√†y th√°ng nƒÉm ph√π h·ª£p.

```java
String strBirthday = birthday.toString();
```

- Ph√©p g√°n:

```java
Date deadline = birthday;
```

![](./img/multiple-instance-of-one-class.png)

C·∫£ hai bi·∫øn `birthday` v√† `deadline` ƒë·ªÅu c√≥ chung m·ªôt l·ªõp l√† `Date`


### Mutator and Accessor methods

- **Mutator methods**: l√† nh·ªØng ph∆∞∆°ng th·ª©c t√°c ƒë·ªông l√™n m·ªôt ƒë·ªëi t∆∞·ª£ng v√† thay ƒë·ªïi tr·∫°ng th√°i c·ªßa ƒë·ªëi t∆∞·ª£ng ƒë√≥.
- **Accessor methods:** l√† nh·ªØng ph∆∞∆°ng th·ª©c ch·ªâ t√°c ƒë·ªông l√™n m·ªôt ƒë·ªëi t∆∞·ª£ng m√† kh√¥ng thay ƒë·ªïi tr·∫°ng th√°i c·ªßa ƒë·ªëi t∆∞·ª£ng ƒë√≥.

---

## T·∫°o m·ªôt ƒë·ªëi t∆∞·ª£ng trong Java

File `Problem.java`

```java
public class Problem {
    private String m_ProblemName;
    private String m_Directory;

    public String getM_ProblemName() {
        return m_ProblemName;
    }

    public void setM_ProblemName(String m_ProblemName) {
        this.m_ProblemName = m_ProblemName;
    }

    public String getM_Directory() {
        return m_Directory;
    }

    public void setM_Directory(String m_Directory) {
        this.m_Directory = m_Directory;
    }

    public Problem(String problemName, String directory) {
        this.m_Directory = directory;
        this.m_ProblemName = problemName;
    }
}
```

File `Main.java`

```java
public class Main {
    public static void main(String[] args) {
        Problem problem = new Problem("math", "c/users/nnminh");
        System.out.println("name = " + problem.getM_ProblemName());
        System.out.println("path = " + problem.getM_Directory());
    }
}
```

### Constructor

- Constructor c√≥ t√™n c√πng v·ªõi t√™n `class`.
- M·ªôt `class` c√≥ th·ªÉ c√≥ nhi·ªÅu h∆°n m·ªôt constructor.
- M·ªôt constructor c√≥ th·ªÉ c√≥ ƒëa d·∫°ng s·ªë l∆∞·ª£ng c√°c tham s·ªë.
- Constructor kh√¥ng c√≥ gi√° tr·ªã tr·∫£ v·ªÅ $\rightarrow$ kh√¥ng c√≥ ki·ªÉu d·ªØ li·ªáu.
- Constructor lu√¥n ƒë∆∞·ª£c g·ªçi v·ªõi t·ª´ kh√≥a `new` ƒë·ªÉ kh·ªüi t·∫°o cho m·ªôt tr∆∞·ªùng ho·∫∑c m·ªôt instance m·ªõi.

### L·ª£i √≠ch c·ªßa t√≠nh bao ƒë√≥ng (encapsulation)

- Field accesstor (c√°c getter) ch·ªâ tr·∫£ v·ªÅ gi√° tr·ªã c·ªßa field t∆∞∆°ng ·ª©ng.
- V√¨ sao kh√¥ng ƒë·∫∑t c√°c field public? $\rightarrow$ V√¨ c√≥ th·ªÉ c√≥ nhi·ªÅu field ng∆∞·ªùi d√πng kh√¥ng n√™n truy c·∫≠p v√†o, t·ª´ ƒë√≥ h·∫°n ch·∫ø vi·ªác thay ƒë·ªïi d·ªØ li·ªáu ngo√†i √Ω mu·ªën.
- Accesstors v√† Mutators $\rightarrow$ c√°c h√†m getter v√† setter.
- D·ªÖ d√†ng thay ƒë·ªïi internal implementation (ph∆∞∆°ng th·ª©c vi·∫øt code).
- Mutators c√≥ th·ªÉ ki·ªÉm tra l·ªói (errors checking).

> üí° ***Kh√¥ng n√™n vi·∫øt c√°c Accesstor methods tr·∫£ v·ªÅ tham chi·∫øu c·ªßa m·ªôt tr∆∞·ªùng!***

- N·∫øu c·∫ßn tr·∫£ v·ªÅ m·ªôt tham chi·∫øu c·ªßa m·ªôt tr∆∞·ªùng th√¨ tr∆∞·ªõc ti√™n s·∫Ω t·∫°o m·ªôt b·∫£n sao c·ªßa tr∆∞·ªùng ƒë√≥ v√† sau ƒë√≥ tr·∫£ v·ªÅ tham chi·∫øu c·ªßa tr∆∞·ªùng b·∫£n sao.

### Private method

- Ph·∫ßn l·ªõn c√°c ph∆∞∆°ng th·ª©c ƒë·ªÅu public, song trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p c√≥ m·ªôt s·ªë c√°c ph∆∞∆°ng th·ª©c private.
- C√°c private method gi√∫p vi·ªác chia code th·ª±c hi·ªán vi·ªác t√≠nh to√°n th√†nh nh·ªØng ph∆∞∆°ng ph·ª©c tr·ª£ gi√∫p (helper method).

### Final field - Tr∆∞·ªùng c·ªë ƒë·ªãnh (h·∫±ng)

- M·ªôt field c√≥ th·ªÉ s·ª≠ d·ª•ng v·ªõi t·ª´ kh√≥a `final` ƒë·ªÉ t·∫°o th√†nh tr∆∞·ªùng h·∫±ng. V√† lu√¥n ƒë∆∞·ª£c kh·ªüi t·∫°o v·ªõi m·ªôt gi√° tr·ªã kh·ªüi t·∫°o.
- Sau ƒë√≥ tr∆∞·ªùng n√†y kh√¥ng th·ªÉ thay ƒë·ªïi gi√° tr·ªã.

### Static field and method

#### Static field

- Tr∆∞·ªùng static l√† tr∆∞·ªùng ƒë·ªôc nh·∫•t trong t·∫•t c·∫£ c√°c `class` c√πng lo·∫°i.

File `Problem.java` sau khi th√™m tr∆∞·ªùng private static int id;

```java
public class Problem {
    private String m_ProblemName;
    private String m_Directory;
    private static int NextId;
    private int id;

    public String getM_ProblemName() {
        return m_ProblemName;
    }

    public void setM_ProblemName(String m_ProblemName) {
        this.m_ProblemName = m_ProblemName;
    }

    public String getM_Directory() {
        return m_Directory;
    }

    public void setM_Directory(String m_Directory) {
        this.m_Directory = m_Directory;
    }

    public Problem(String problemName, String directory) {
        this.m_Directory = directory;
        this.m_ProblemName = problemName;
    }
}
```

**Gi·∫£i th√≠ch:** C√≥ nhi·ªÅu instances c·ªßa class `Problem` nh∆∞ng trong t·∫•t c·∫£ c√°c instances ƒë√≥ th√¨ s·∫Ω c√≥ chung m·ªôt tr∆∞·ªùng `id` $\rightarrow$ tr∆∞·ªùng `id` l√† ƒë·ªôc nh·∫•t (chung) cho t·∫•t c·∫£ c√°c instances c·ªßa class `Problem`.

#### Static constants

- Static field s·∫Ω √≠t xu·∫•t hi·ªán, song static constants s·∫Ω th∆∞·ªùng xu·∫•t hi·ªán h∆°n.
- V√¨ h·∫±ng s·ªë ch·ªâ c·∫ßn m·ªôt instance cho t·∫•t c·∫£ c√°c class ch·ª© kh√¥ng c·∫ßn nhi·ªÅu instance cho nhi·ªÅu class.

```java
public class Math {
    ...
    public static final double PI = 3.14;
    ...
}
```

**Gi·∫£i th√≠ch:** H·∫±ng s·ªë PI ch·ªâ c·∫ßn c√≥ m·ªôt instance cho m·ªçi instance c·ªßa class Math c√≥ th·ªÉ c√≥. Ng∆∞·ª£c l·∫°i th√¨ m·ªói instance c·ªßa class Math s·∫Ω c√≥ m·ªôt instance c·ªßa PI $\rightarrow$ kh√¥ng c·∫ßn thi·∫øt.

#### Static method

- Static method l√† ph∆∞∆°ng th·ª©c kh√¥ng v·∫≠n h√†nh tr√™n ƒë·ªëi t∆∞·ª£ng. Ho·∫∑c kh√¥ng s·ª≠ d·ª•ng tham s·ªë ·∫©n (implicit parameters).
- G·ªçi static method kh√¥ng c√≥ ƒë·ªëi t∆∞·ª£ng.

File `Problem.java`

```java
public class Problem {
    private String m_ProblemName;
    private String m_Directory;
    private static int nextId;

    private int id;

    public void setID() {
        id = nextId;
        nextId++;
    }

    public static int getNextId() {
        return nextId;
    }

    public String getM_ProblemName() {
        return m_ProblemName;
    }

    public void setM_ProblemName(String m_ProblemName) {
        this.m_ProblemName = m_ProblemName;
    }

    public String getM_Directory() {
        return m_Directory;
    }

    public void setM_Directory(String m_Directory) {
        this.m_Directory = m_Directory;
    }

    public Problem(String problemName, String directory) {
        this.m_Directory = directory;
        this.m_ProblemName = problemName;
    }
}
```

#### Factory methods

- Factory methods l√† c√°c ph∆∞∆°ng th·ª©c ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ x√¢y d·ª±ng c√°c object kh√°c (v√≠ d·ª• nh∆∞ x√¢y d·ª±ng object kh√°c ho·∫∑c object con).

```java
NumberFormat currencyFormatter = NumberFormat.getCurrencyInstance(); 
NumberFormat percentFormatter = NumberFormat.getPercentInstance(); 
double x = 0.1;
System.out.println(currencyFormatter.format(x)); // prints $0.10 
System.out.println(percentFormatter.format(x)); // prints 10
```

#### Main method

- M·ªçi class c√≥ th·ªÉ c√≥ m·ªôt `Main` method ƒë·ªÉ ch·∫°y code v√† th√≠ch h·ª£p ƒë·ªÉ ch·∫°y unit test.

### Method parameters

File `Custom.java`

```java
public class Custom {
    public static int SQR(int value) {
        return value * value;
    }

    public static void TrySQR(int value) {
        value *= value;
        System.out.println("SQR = " + value);
    }
}
```

File `Main.java`

```java
public class Main {
    public static void main(String[] args) {
        System.out.println(Custom.SQR(10));

        int value = 100;
        Custom.TrySQR(value);
        System.out.println("after = " + value); // after = 100
    }
}
```

**Gi·∫£i th√≠ch:** gi√° tr·ªã c·ªßa bi·∫øn `value` kh√¥ng b·ªã thay ƒë·ªïi sau khi b·ªã t√°c ƒë·ªông b·ªüi h√†m `TrySQL` $\rightarrow$ Pass by value.

> üí° V·∫≠y ƒë·ªëi v·ªõi c√°c tham s·ªë l√† ki·ªÉu d·ªØ li·ªáu nguy√™n th·ªßy (primitive data types) th√¨ s·∫Ω ƒë∆∞·ª£c truy·ªÅn b·∫±ng gi√° tr·ªã (**pass by value**).



---

## References
